<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>SurveillanceWatch</title>

        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" />
        <link rel="stylesheet" href="themes/veos.css" />
        <link rel="stylesheet" href="css/veos.css" /> 
        
        <link rel="icon" href="images/favicon.ico"/>

        <script type="text/javascript" charset="utf-8" src="js/libs/cordova-2.0.0.js"></script>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
        <script type="text/javascript">
            $.noConflict();
            jQuery(document).bind("mobileinit", function(){
                jQuery.mobile.defaultPageTransition = 'none'; // disable transitions
            });
            // the following was suggested as a more complete way to disable transitions
            // jQuery(document).bind("mobileinit", function() {
            //     $.mobile.defaultPageTransition = 'none';
            //     $.mobile.page.prototype.options.addBackBtn = true;
            //     $.mobile.useFastClick  = false;
            // }
        </script>
        <script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>
        
        <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB75fl3V3AXVEfejWZiIclVB73SuLESB8w&amp;sensor=true"></script>

        <script type="text/javascript" charset="utf-8" src="js/libs/jquery.simplemodal.1.4.2.min.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/libs/underscore-1.3.1.js"></script>     
        <script type="text/javascript" charset="utf-8" src="js/libs/backbone-0.9.2.js"></script>        
        <script type="text/javascript" charset="utf-8" src="js/veos.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/veos.map.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/veos.model.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/veos.view.js"></script>

        <script type="text/javascript">
            veos.init();
        </script>
    </head>
    <body>
        <div data-role="page" id="report-page">
            <div data-theme="a" data-role="header">
                <h3 id="report-header-text">
                    Filing a New Report
                </h3>
            </div>
            <div data-role="content">
                <div>
                    <b>Owner:</b> who do you think this surveillance belongs to?
                </div>

                <fieldset data-role="controlgroup">
                    <legend>Owner Name</legend>
                    <input class="field" name="owner_name" id="owner" placeholder="Owner name if identifiable..." value="" type="text" />
                    <input type="checkbox" name="unidentified-owner-checkbox" id="unidentified-owner-checkbox" class="custom" value"false"/>
                    <label for="unidentified-owner-checkbox" data-theme="e">Cannot identify owner</label>
                </fieldset>

                <fieldset data-role="controlgroup">
                    <label for="owner-type">Owner Type</label>
                    <select id="owner-type" class="field" name="owner_type">
                        <option value>Owner type</option>
                        <option value="Banking">Banking</option>
                        <option value="Education">Education</option>
                        <option value="Government - federal">Government - federal</option>
                        <option value="Government - provincial">Government - provincial</option>
                        <option value="Government - municipal">Government - municipal</option>
                        <option value="Police">Police</option>
                        <option value="Property manager">Property manager</option>                            
                        <option value="Public transit">Public transit</option>
                        <option value="Residential">Residential</option>
                        <option value="Retail / Restaurant / Bar">Retail / Restaurant / Bar</option>
                        <option value="Traffic">Traffic</option>
                        <option value="Other">Other</option>
                    </select>
                </fieldset>

                <fieldset data-role="controlgroup">
                    <legend>Operator Name</legend>
                    <input class="field" name="operator_name" id="operator" placeholder="Camera operator name if identifiable..." value="" type="text" />
                </fieldset>

                <hr/>
                
                <div data-role="collapsible" data-collapsed="false" id="report-location-container">
                    <h3>
                        Location
                    </h3>

                    <p style="text-align: center">
                        Click map to refine location or enter a more accurate
                        address or place name.
                    </p>
                    <div class="map-thumbnail-container">
                        <a href="refine-location.html"><img id="static-report-map" class="map-thumbnail" alt="Locating..." src="images/loading-64.gif" /></a>
                        <div class="waiting">Locating...</div>
                    </div>
                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup">
                            <label for="location-address">Address or Place</label>
                            <input class="field" name="loc_description_from_user" id="location-address"  value="" type="text" />
                            <input class="field" name="loc_description_from_google" value="" type="hidden" />
                        </fieldset>
                    </div>
                </div>

                <hr/>

                <div data-role="collapsible-set" data-theme="" data-content-theme="" class="report">
                    <div data-role="collapsible" data-collapsed="true" id="report-photos-container">
                        <h3>
                            Add a photo
                        </h3>
                        <fieldset class="dashed-box">
                            <legend>Photos</legend>

                            <div id="camera-buttons">
                                <a id="add-camera-photo-button" data-role="button" href="#report-page" data-icon="plus" data-iconpos="left" class="acquire-photo" data-acquire-from="camera" data-photo-of="camera">
                                    Take Photo
                                </a>
                                <a id="select-camera-photo-button" data-role="button" data-icon="plus" data-iconpos="left" class="acquire-photo" data-acquire-from="gallery" data-photo-of="camera">
                                    Select Photo from Gallery
                                </a>
                                <div id="photos" class="photo-list">
                                    <!-- Images are added dynamically via camera or gallery selection -->
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>

                <button id="modal-button" onclick="veos.showModal(93)">Bring up the modal</button>

                <!-- photo-details overlay... content is hidden until photo is clicked -->
                <div id="photo-details-content">
                    <h3>
                        Photo Details
                    </h3>
                    <div data-role="fieldcontain" id="photo-details-tag-buttons">
                        <fieldset data-role="controlgroup" data-type="horizontal">
                            <legend><b>What is this picture about?</b></legend>
                            <input name="is_camera" class="is-camera field" id="is-camera" value="camera" type="checkbox">
                            <label for="is-camera"><b>Camera</b></label>
                            <input name="is_sign" class="is-sign field" id="is-sign" value="sign" type="checkbox">
                            <label for="is-sign"><b>Sign</b></label>
                            <input name="is_other" class="is-other field" id="is-other" value="other" type="checkbox">
                            <label for="is-other"><b>Other</b></label>
                        </fieldset>
                    </div>

                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup">
                            <legend><b>Note</b></legend>
                            <textarea class="field" name="photo-notes" id="photo-note" placeholder="Any other observations..."></textarea>
                        </fieldset>
                    </div>
                </div>                

                <hr/>

                <div data-role="collapsible-set" data-theme="" data-content-theme="">
                    <div data-role="collapsible" data-collapsed="true" class="camera-details-container">
                        <h3>
                            Camera details
                        </h3>
                        <fieldset class="dashed-box">
                            <legend>Cameras</legend>
                            <div>
                                <label for="camera-count">How many cameras do you see?</label>
                                <input class="field" name="camera_count" id="camera-count" placeholder="#" type="number">

                                <hr/>

                                <label class="dropdown-label" for="surveilled-space">Cameras pointed at</label>
                                <select class="multi-field" name="surveilled_space" id="surveilled-space" data-mini="true" multiple="multiple" data-native-menu="false">
                                    <option>Cameras pointed at</option>
                                    <option value="Mall common area">Mall common area</option>
                                    <option value="Park">Park</option>
                                    <option value="Public space">Public space</option>
                                    <option value="Public plaza">Public plaza</option>
                                    <option value="Publicly accessible private space">Publicly accessible private space</option>
                                    <option value="Semi-public">Semi-public</option>
                                    <option value="Private space">Sidewalk</option>
                                    <option value="Other type of space">Other type of space</option>
                                </select>
                            </div>
                        </fieldset>
                    </div>
                </div>

                <hr/>

                <fieldset data-role="controlgroup" data-type="horizontal">
                    <legend><b>Do you see a sign?</b></legend>
                    <input name="has_sign" class="has-sign field" id="sign-yes" value="yes" type="radio">
                    <label for="sign-yes"><b>Yes</b></label>
                    <input name="has_sign" class="has-sign field" id="sign-no" value="no" type="radio">
                    <label for="sign-no"><b>No</b></label>
                </fieldset>

                <div data-role="collapsible-set" data-theme="" data-content-theme="">
                    <div data-role="collapsible" data-collapsed="true" id="report-sign-details-container">
                        <h3>
                            Sign details
                        </h3>
                        
                        <fieldset class="dashed-box">
                            <legend>Sign</legend>
                            <label class="dropdown-label" for="sign-visibility">Visibility of sign</label>
                            <select class="field" name="sign_visibility" id="sign-visibility" data-mini="true" data-native-menu="false">
                                <option>Visibility of sign</option>
                                <option value="Visible">Visible</option>
                                <option value="Obscure">Obscure</option>
                            </select>
                            <hr/>
                            <label class="dropdown-label" for="sign-stated-purpose">Stated purpose</label>
                            <select class="multi-field" name="sign_stated_purpose" id="sign-stated-purpose" data-mini="true" multiple="multiple" data-native-menu="false">
                                <option>Stated purpose</option>
                                <option value="None">None</option>
                                <option value="Crime prevention/prosecution">Crime prevention/prosecution</option>
                                <option value="Public safety">Public safety</option>
                            </select>
                            <hr/>
                            <label class="dropdown-label" for="sign-properties">Stated properties</label>
                            <select class="multi-field" name="sign_properties" id="sign-properties" data-mini="true" multiple="multiple" data-native-menu="false">
                                <option>Stated properties</option>
                                <option value="None">None</option>
                                <option value="# days image will be retained"># days image will be retained</option>
                                <option value="Available to police">Available to police</option>
                                <option value="Face blurring">Face blurring</option>
                                <option value="Face recognition">Face recognition</option>
                                <option value="Image encryption">Image encryption</option>
                                <option value="Live monitoring">Live monitoring</option>
                                <option value="Recording">Recording</option>
                            </select>
                            <hr/>
                            <fieldset data-role="controlgroup">
                                <label for="sign-text">Text of sign</label>
                                <input class="field" name="sign_text" id="sign-text" placeholder="Text of sign if it exists..." value="" type="text">
                            </fieldset>
                        </fieldset>
                    </div>
                </div>

                <hr/>

                <div data-role="collapsible-set" data-theme="" data-content-theme="">
                    <div data-role="collapsible" data-collapsed="true" id="report-notes-container">
                        <h3>
                            Notes
                        </h3>

                        <fieldset data-role="controlgroup">
                            <textarea class="field" name="notes" id="report-note" placeholder="Any other observations..."></textarea>
                        </fieldset>
                    </div>
                </div>

            </div>
            
            <div data-theme="a" data-role="footer" class="footer-with-buttons">
                <a id="cancel-report" data-role="button" data-theme="f" data-icon="delete" data-iconpos="left" href="overview-map.html">
                    Cancel
                </a>

                <input id="submit-report" type="submit" data-theme="b" data-icon="check" data-iconpos="left" value="Submit" />
            </div>
        </div>


        
    </body>
</html>