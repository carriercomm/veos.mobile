<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>VEOS - Video Eyes On the Street</title>

        <link rel="stylesheet" href="themes/veos.css" />
        <link rel="stylesheet" href="css/veos.css" />

        <script type="text/javascript" charset="utf-8" src="js/libs/cordova-1.5.0.js"></script>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.js">
        </script>
        <script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.js">
        </script>
        <script type="text/javascript">$.noConflict();</script>
        <!--<script type="text/javascript" charset="utf-8" src="js/libs/barcodescanner.js"></script>-->
    </head>
    <body>
        <div data-role="page" id="report-page">
            <div data-theme="a" data-role="header">
                <h3>
                    Filing a New Report
                </h3>
            </div>
            <div data-role="content">
                <div data-role="collapsible-set" data-theme="" data-content-theme="">
                    <div data-role="collapsible" data-collapsed="false" id="photos-container">
                        <h3>
                            Photos
                        </h3>
                        <a id="add-photo-button" data-role="button" data-transition="fade" href="#report-page" data-icon="plus" data-iconpos="left">
                            Take Photo
                        </a>
                        <a id="select-photo-button" data-role="button" data-transition="fade" data-icon="plus" data-iconpos="left">
                            Select Photo from Gallery
                        </a>
                        <div id="image-list" class="photo-list">
                            <!-- Images are added dynamically via camera or gallery selection -->
                        </div>
                    </div>
                    <div data-role="collapsible" data-collapsed="false" id="location-container">
                        <h3>
                            Location
                        </h3>
                        <div class="map-thumbnail">
                             <!--Google Maps thumbnail
                                -parameters static for now, but to be pulled from DB
                                -types of params we might want to use: lat/long, string (ie, "Toronto, On")
                                -markers are pins that we want to insert for each installation. We may want to set marker styles if there are multiple types of locations, ie src="http://maps.googleapis.com/maps/api/staticmap?center=43.668135,-79.398347&markers=size:small%7Ccolor:blue%7C43.669135,-79.399347&markers=43.658135,-79.388347&zoom=13&size=200x200&scale=2&sensor=true"
                                -set 'scale=2' for mobile devices
                                -docs claim we need 'sensor=true', but I doubt it
                                -for more details, see https://developers.google.com/maps/documentation/staticmaps/
                             -->
                             <!-- variables defined in the string for now, abstract and move when ready
                            <img src="http://maps.googleapis.com/maps/api/staticmap?zoom=13&size=200x200&scale=2&sensor=true" + 
                            center=current_position + &
                            markers=installation_1_ll + &
                            markers=installation_2_ll" />
                            etc.
                            -->
                            <img src="http://maps.googleapis.com/maps/api/staticmap?zoom=13&size=200x200&scale=2&sensor=true&center=43.668135,-79.398347&markers=43.669135,-79.399347&markers=43.658135,-79.388347" />
                        </div>
                        <div data-role="fieldcontain">
                            <fieldset data-role="controlgroup">
                                <label for="textinput1">
                                    Address or Place
                                </label>
                                <input id="textinput1" placeholder="15 Bloor St. W." value="" type="text" />
                            </fieldset>
                        </div>
                    </div>
                    <div data-role="collapsible" data-collapsed="false" id="details-container">
                        <h3>
                            Details
                        </h3>
                        <div data-role="fieldcontain">
                            <fieldset data-role="controlgroup">
                                <label for="owner">
                                    Owner
                                </label>
                                <input id="owner" placeholder="" value="" type="text" />
                            </fieldset>
                        </div>
                        <div data-role="fieldcontain">
                            <fieldset data-role="controlgroup">
                                <label for="type">
                                    Type
                                </label>
                                <input id="type" placeholder="" value="" type="text" />
                            </fieldset>
                        </div>
                        <a data-role="button" data-transition="fade" href="#report-page" data-icon="arrow-r" data-iconpos="right">
                            Enter Advanced Details
                        </a>
                    </div>
                </div>
            </div>

            <div data-theme="a" data-role="footer" class="footer-with-buttons">
                <!-- looks like we need to force a reload or something here -->
                <a id="cancel-report"  data-role="button" data-transition="fade" data-theme="f" href="overview-map.html" data-icon="delete" data-iconpos="left">
                    Cancel
                </a>

                <input id="submit-report" type="submit" data-theme="b" data-icon="check" data-iconpos="left" value="Submit" />
            </div>
        </div>

        <script type="text/javascript" charset="utf-8" src="js/libs/underscore-1.3.1.js"></script>     
        <script type="text/javascript" charset="utf-8" src="js/libs/backbone-0.9.2.js"></script>

        <script type="text/javascript" charset="utf-8" src="js/veos.model.js"></script>

        <script type="text/javascript" charset="utf-8" src="js/report.js"></script>
        <script>
            document.addEventListener('deviceready', function() {
                jQuery('#add-photo-button').click(function() {
                    window.report.capturePhoto();
                });
                jQuery('#select-photo-button').click(function() {
                    window.report.selectPhoto();
                });                

            });

            jQuery(document).ready(function() {
                jQuery('.map-thumbnail').click(function() {
                    alert('jump to locate-self-page');
                });
            });
        </script>
    </body>
</html>